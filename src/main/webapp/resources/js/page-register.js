!function(r){var n=function(r,n){return r<<n|r>>>32-n},t=function(r,n){var t,o,e,u,f;return e=2147483648&r,u=2147483648&n,t=1073741824&r,o=1073741824&n,f=(1073741823&r)+(1073741823&n),t&o?2147483648^f^e^u:t|o?1073741824&f?3221225472^f^e^u:1073741824^f^e^u:f^e^u},o=function(r,n,t){return r&n|~r&t},e=function(r,n,t){return r&t|n&~t},u=function(r,n,t){return r^n^t},f=function(r,n,t){return n^(r|~t)},i=function(r,e,u,f,i,a,c){return r=t(r,t(t(o(e,u,f),i),c)),t(n(r,a),e)},a=function(r,o,u,f,i,a,c){return r=t(r,t(t(e(o,u,f),i),c)),t(n(r,a),o)},c=function(r,o,e,f,i,a,c){return r=t(r,t(t(u(o,e,f),i),c)),t(n(r,a),o)},C=function(r,o,e,u,i,a,c){return r=t(r,t(t(f(o,e,u),i),c)),t(n(r,a),o)},g=function(r){for(var n,t=r.length,o=t+8,e=(o-o%64)/64,u=16*(e+1),f=Array(u-1),i=0,a=0;t>a;)n=(a-a%4)/4,i=8*(a%4),f[n]=f[n]|r.charCodeAt(a)<<i,a++;return n=(a-a%4)/4,i=8*(a%4),f[n]=f[n]|128<<i,f[u-2]=t<<3,f[u-1]=t>>>29,f},h=function(r){var n,t,o="",e="";for(t=0;3>=t;t++)n=255&r>>>8*t,e="0"+n.toString(16),o+=e.substr(e.length-2,2);return o},d=function(r){r=r.replace(/\x0d\x0a/g,"\n");for(var n="",t=0;t<r.length;t++){var o=r.charCodeAt(t);128>o?n+=String.fromCharCode(o):o>127&&2048>o?(n+=String.fromCharCode(192|o>>6),n+=String.fromCharCode(128|63&o)):(n+=String.fromCharCode(224|o>>12),n+=String.fromCharCode(128|63&o>>6),n+=String.fromCharCode(128|63&o))}return n};r.extend({md5:function(r){var n,o,e,u,f,v,m,S,l,A=Array(),s=7,x=12,y=17,b=22,j=5,p=9,w=14,L=20,Q=4,k=11,q=16,z=23,B=6,D=10,E=15,F=21;for(r=d(r),A=g(r),v=1732584193,m=4023233417,S=2562383102,l=271733878,n=0;n<A.length;n+=16)o=v,e=m,u=S,f=l,v=i(v,m,S,l,A[n+0],s,3614090360),l=i(l,v,m,S,A[n+1],x,3905402710),S=i(S,l,v,m,A[n+2],y,606105819),m=i(m,S,l,v,A[n+3],b,3250441966),v=i(v,m,S,l,A[n+4],s,4118548399),l=i(l,v,m,S,A[n+5],x,1200080426),S=i(S,l,v,m,A[n+6],y,2821735955),m=i(m,S,l,v,A[n+7],b,4249261313),v=i(v,m,S,l,A[n+8],s,1770035416),l=i(l,v,m,S,A[n+9],x,2336552879),S=i(S,l,v,m,A[n+10],y,4294925233),m=i(m,S,l,v,A[n+11],b,2304563134),v=i(v,m,S,l,A[n+12],s,1804603682),l=i(l,v,m,S,A[n+13],x,4254626195),S=i(S,l,v,m,A[n+14],y,2792965006),m=i(m,S,l,v,A[n+15],b,1236535329),v=a(v,m,S,l,A[n+1],j,4129170786),l=a(l,v,m,S,A[n+6],p,3225465664),S=a(S,l,v,m,A[n+11],w,643717713),m=a(m,S,l,v,A[n+0],L,3921069994),v=a(v,m,S,l,A[n+5],j,3593408605),l=a(l,v,m,S,A[n+10],p,38016083),S=a(S,l,v,m,A[n+15],w,3634488961),m=a(m,S,l,v,A[n+4],L,3889429448),v=a(v,m,S,l,A[n+9],j,568446438),l=a(l,v,m,S,A[n+14],p,3275163606),S=a(S,l,v,m,A[n+3],w,4107603335),m=a(m,S,l,v,A[n+8],L,1163531501),v=a(v,m,S,l,A[n+13],j,2850285829),l=a(l,v,m,S,A[n+2],p,4243563512),S=a(S,l,v,m,A[n+7],w,1735328473),m=a(m,S,l,v,A[n+12],L,2368359562),v=c(v,m,S,l,A[n+5],Q,4294588738),l=c(l,v,m,S,A[n+8],k,2272392833),S=c(S,l,v,m,A[n+11],q,1839030562),m=c(m,S,l,v,A[n+14],z,4259657740),v=c(v,m,S,l,A[n+1],Q,2763975236),l=c(l,v,m,S,A[n+4],k,1272893353),S=c(S,l,v,m,A[n+7],q,4139469664),m=c(m,S,l,v,A[n+10],z,3200236656),v=c(v,m,S,l,A[n+13],Q,681279174),l=c(l,v,m,S,A[n+0],k,3936430074),S=c(S,l,v,m,A[n+3],q,3572445317),m=c(m,S,l,v,A[n+6],z,76029189),v=c(v,m,S,l,A[n+9],Q,3654602809),l=c(l,v,m,S,A[n+12],k,3873151461),S=c(S,l,v,m,A[n+15],q,530742520),m=c(m,S,l,v,A[n+2],z,3299628645),v=C(v,m,S,l,A[n+0],B,4096336452),l=C(l,v,m,S,A[n+7],D,1126891415),S=C(S,l,v,m,A[n+14],E,2878612391),m=C(m,S,l,v,A[n+5],F,4237533241),v=C(v,m,S,l,A[n+12],B,1700485571),l=C(l,v,m,S,A[n+3],D,2399980690),S=C(S,l,v,m,A[n+10],E,4293915773),m=C(m,S,l,v,A[n+1],F,2240044497),v=C(v,m,S,l,A[n+8],B,1873313359),l=C(l,v,m,S,A[n+15],D,4264355552),S=C(S,l,v,m,A[n+6],E,2734768916),m=C(m,S,l,v,A[n+13],F,1309151649),v=C(v,m,S,l,A[n+4],B,4149444226),l=C(l,v,m,S,A[n+11],D,3174756917),S=C(S,l,v,m,A[n+2],E,718787259),m=C(m,S,l,v,A[n+9],F,3951481745),v=t(v,o),m=t(m,e),S=t(S,u),l=t(l,f);var G=h(v)+h(m)+h(S)+h(l);return G.toLowerCase()}})}(jQuery);!function(e){var t={},i="lb_login";MOGU.user_handsome_login_init=function(){function o(){var e={title:"登录蘑菇街",lightBoxId:i,contentHtml:a,scroll:!0};t=new MGLightBox(e),t.init()}var a=['<div class="login_box clearfix">','<p class="error_tip">请输入密码！</p>','<div class="lg_form">','<ul class="mod_box lo_mod_box" data-isshow="0">','<li class="login_title">','<a class="fr eb_mod" href="javascript:;">手机动态密码登录</a>',"<b>普通登录</b>","</li>",'<li class="lg_item lg_name">','<b class="lg_icon"></b>','<input type="text" maxlength="32" class="text r3" name="uname" def-v="手机/邮箱/昵称" value="手机/邮箱/昵称" style="border-color: rgb(207, 207, 207); color:#ccc;">',"</li>",'<li class="lg_item u_passwd">','<b class="lg_icon"></b>','<input type="password" name="pass" class="text">',"</li>","</ul>",'<ul class="mod_box eb_mod_box" data-isshow="0">','<li class="login_title">','<a class="fr lo_mod" href="javascript:;">普通登录</a>',"<b>手机动态密码登录</b>","</li>",'<li class="lg_item lg_name">','<b class="lg_icon"></b>','<input type="text" maxlength="32" class="text r3" name="uname" def-v="手机" value="手机" style="border-color: rgb(207, 207, 207); color:#ccc;">',"</li>",'<li class="lg_item lg_code">','<b class="lg_icon"></b>','<input type="text" maxlength="32" class="text r3" name="telcode" def-v="动态密码" value="动态密码" style="border-color: rgb(207, 207, 207); color:#ccc;">',"</li>",'<li class="lg_chk"></li>','<li class="lg_item lg_getcode">','<a href="javascript:;" class="get_tel_code" id="get_tel_code" send-method="nologin" tel-input-id="uname" ready-text="获取手机动态密码" wait-text="重新获取动态密码">获取手机动态密码</a>',"</li>","</ul>",'<div class="lg_remember"><input type="checkbox" name="remember" class="checkbox" checked=""> 记住我（两周免登录）</div>','<div class="lg_login">','<input type="button" value="" class="sub">','<input type="hidden" value="" id="imgcheckvalue">','<a class="ml10" href="http://www.mogujie.com/usersecurity/findpwd" target="_blank">忘记密码？</a>','<a href="http://www.mogujie.com/register/">新用户注册</a>',"</div>","</div>",'<div class="login_other">',"<span>其他登录方式</span>",'<a href="http://www.mogujie.com/oauth/login/qq/mogujie" class="login_qq"></a>','<a href="http://www.mogujie.com/oauth/login/sina/mogujie" class="login_wb"></a>','<a href="http://www.mogujie.com/oauth/login/weixin/mogujie" class="login_wx"></a>',"</div>","</div>"].join("");!function(){e(".light_box").remove(),o()}()},MOGU.user_handsome_login=function(o,a){function s(t){t.on("blur",'.lg_name input[name="uname"]',function(){var i,o=e(this),a=MGTOOL.trim(o.val());return""==a||a==o.attr("def-v")?!1:a==o.attr("data-lastname")?!1:(n.UI.hideError(t),i=t.find(".lg_form").hasClass("easy_buy")?2:1,1==i&&/^1\d{10,10}$/.test(a)?n.UI.ajaxPost({uname:o.val()},"/mlogin/canloginbycode",function(e){1001==e.status.code&&1==e.result?(o.val(o.attr("def-v")).css("color","#ccc"),t.find(".eb_mod_box input[name=uname]").val(a).css("color","#000"),n.UI.turnLoginMod(t,2),t.find(".eb_mod_box input[name=uname]").trigger("blur")):(n.CHECK.checkCodeIsShow(t,o,i),o.attr("data-lastname",o.val()))}):(n.CHECK.checkCodeIsShow(t,o,i),o.attr("data-lastname",o.val())),void 0)}).on("focus",".lg_item input",function(){n.UI.hideError(t)}).on("click",".imgcheck_image_div,#imgcheck_code_change",function(){n.UI.hideError(t)}).on("click",".login_title a",function(){var i,o=e(this);return o.hasClass("tab_on")?!1:(n.UI.hideError(t),i=o.hasClass("lo_mod")?1:2,n.UI.turnLoginMod(t,i),void 0)}).on("click","#get_tel_code",function(){var i=e(this),o=60,a=t.find(".eb_mod_box input[name='uname']").val();if(!e("#get_tel_code:visible").length||i.hasClass("downing"))return!1;if(!/^1\d{10,10}$/.test(a))return n.UI.showError(t,"请输入正确的手机号码"),!1;if(e(".imgcheck_code_img_div:visible").length&&!n.CHECK.isImgcodeCheck(t))return!1;i.addClass("downing").html("正在发送……");var s={uname:a,check:e("#imgcheckvalue").val()};n.UI.ajaxPost(s,"/mlogin/getcode",function(e){if(1001===e.status.code?(i.addClass("downing").html("重新发送(60)"),n.UI.countDownStart(i,o)):i.removeClass("downing").html("获取手机动态密码"),2==e.result){t.find(".eb_mod_box").attr("data-isshow","1");var a='<div id="lg_chk" class="lg_chk"></div>',s=t.find(".lg_remember");n.CHECK.GetImgCheck(a,"#lg_chk",s,t)}e.status.msg&&n.UI.showError(t,e.status.msg)})}).on("click",".lg_login .sub",function(e){e.preventDefault();var i;i=t.find(".lg_form").hasClass("easy_buy")?2:1,n.UI.submitNowForm(t,i)})}var n=this;n.UI={ajaxPost:function(t,i,o){e.ajax({url:i,type:"POST",dataType:"json",data:t,success:function(e){o(e)}})},submitNowForm:function(i,o){var s,l,c=this;if("visible"==i.find(".error_tip").css("visibility"))return!1;var r=i.find(".lg_remember :checkbox").prop("checked");if(2==o){var d=i.find(".eb_mod_box"),u=d.find("input[name=uname]"),m=d.find("input[name='telcode']");if(MGTOOL.trim(u.val())==u.attr("def-v"))return c.showError(i,"请输入"+u.attr("def-v")),!1;if(MGTOOL.trim(m.val())==m.attr("def-v"))return c.showError(i,"请输入"+m.attr("def-v")),!1;s={uname:u.val(),code:m.val(),from:2,remember:r},l="/mlogin/loginbycode"}else{var d=i.find(".lo_mod_box"),u=d.find("input[name=uname]"),g=d.find("input[name=pass]").val();if(MGTOOL.trim(u.val())==u.attr("def-v"))return c.showError(i,"请输入"+u.attr("def-v")),!1;if(""==MGTOOL.trim(g))return c.showError(i,"请输入登录密码"),!1;if(e(".imgcheck_code_img_div:visible").length&&!n.CHECK.isImgcodeCheck(i))return!1;s={uname:u.val(),password:e.md5(g),check:e("#imgcheckvalue").val(),from:2,remember:r},l="/mlogin/login"}var h=function(e){if(1001==e.status.code)MOGUPROFILE.userid=e.result.uid,t.success_close("登录成功！",200),a.callback&&a.callback(e.result.data);else{if(2==e.result){i.find(".mod_box").eq(o-1).attr("data-isshow","1");var s='<div id="lg_chk" class="lg_chk"></div>',l=i.find(".lg_remember");n.CHECK.GetImgCheck(s,"#lg_chk",l,i)}c.showError(i,e.status.msg)}};c.ajaxPost(s,l,h)},showError:function(e,t){t&&e.find(".error_tip").html(t).css("visibility","visible")},hideError:function(e){"visible"==e.find(".error_tip").css("visibility")&&e.find(".error_tip").css("visibility","hidden")},turnLoginMod:function(e,t){var i=e.find(".lg_form");1==t?(i.find(".mod_box").hide().eq(0).show(),i.removeClass("easy_buy")):2==t&&(i.find(".mod_box").hide().eq(1).show(),i.addClass("easy_buy")),1==i.find(".mod_box:visible").attr("data-isshow")?i.find(".lg_chk").show():i.find(".lg_chk").hide()},countDownStart:function(e,t){var i=this;i.timer="";var o=function(e,t){i.timer&&clearTimeout(i.timer),i.timer=setTimeout(function(){0>=t?e.html("重新发送").removeClass("downing"):(t--,e.html("重新发送("+t+")"),o(e,t))},"1000")};o(e,t)}},n.CHECK={FixIe6Bug:function(){e.browser.msie&&"6.0"==e.browser.version&&document.execCommand("BackgroundImageCache",!1,!0)},checkCodeIsShow:function(e,t,i){var o=function(t){if(1001==t.status.code)if(1==t.result)e.find(".mod_box").eq(i-1).attr("data-isshow","0");else if(2==t.result){e.find(".mod_box").eq(i-1).attr("data-isshow","1");var o='<div id="lg_chk" class="lg_chk"></div>',a=e.find(".lg_remember");n.CHECK.GetImgCheck(o,"#lg_chk",a,e)}else 3==t.result&&n.UI.showError(e,t.status.msg)};n.UI.ajaxPost({uname:t.val(),type:i},"/mlogin/getvalidatelevel",o)},GetImgCheck:function(t,i,o,a){return e(i).length>0?(a.find(".lg_chk").show(),e("#imgcheck_code_change").trigger("click"),!1):(o.before(t),n.UI.ajaxPost("","/pcaptcha/getview/nlogin",function(t){if(1001==t.status.code){var o=t.result.captcha;setTimeout(function(){e(i).html(o).css("opacity",0).animate({opacity:1},1e3),e(".lg_chk").show(),MOGU.imgCaptchaInit()},0)}else e(i).remove()}),void 0)},RemoveImgCheck:function(){e("#lg_chk").remove()},isImgcodeCheck:function(t){var i=!0;if(MOGU.imgCodeCheck()){var o=[];e(".img_code_spin").each(function(t,i){var a=e(i).val();o.push(a)}),e("#imgcheckvalue").val(o.join(","))}else n.UI.showError(t,"请先点击图片旋转到正确方向"),i=!1;return i}},function(){MOGU.Globe_Bind_Keybord_Submit("",e("#"+i+" .login_btn"),"not_need_focus"),n.CHECK.FixIe6Bug();var t=e("#lb_login");s(t),MOGU.Globe_Input_Text_Hide(t.find("input[type=text]"))}()},MOGU.User_Other_login=function(){var t=e("#show_more_login");t.size()>0&&e(".more_login").hover(function(){e(this).addClass("more_login_active");var i=e(this).offset().top+25,o=e(this).offset().left-90;t.css({top:i,left:o}).show()},function(){var i=e(this),o=setTimeout(function(){t.hide()},1e3);t.hover(function(){clearTimeout(o)},function(){i.removeClass("more_login_active"),t.hide()})})},MOGU.Globe_Checkcode_Change=function(){0!=e("#checkcode_change").size()&&e("#checkcode_change").click(function(){e.ajax({url:"/users/recaptcha",type:"POST",timeout:6e4,data:"{}",dataType:"json",success:function(t){if(null==t)alert(MGLANG.msgTimeout);else{var i=t.status.code,o=t.status.msg;if(1001==i){var a=t.result.data.captchaId,s=t.result.data.captchaSrc;e("#img_checkcode").attr("src",s),e("#captcha-id").val(a)}else alert(o)}},error:function(e,t){"timeout"==t&&alert(MGLANG.msgTimeout)}})})},jQuery(document).ready(function(){MOGU.User_Other_login()})}(jQuery);$(function(){function e(e){e.on("focus",".js_text_input",function(){a.showDefult($(this),$(this).attr("data-defultmsg"))}).on("blur",".js_text_input",function(){a.checkInput($(this))}).on("click","#agreement",function(){return!1}).on("click",".js_postcurrentform",function(){a.submitNowForm(e,$(this))}).on("change","#js_passbox",function(){a.getPasswordStrong($(this),$(this).val())}).on("click",".js_postAjax",function(){var e=$(this),s=e.data(),t=s.ajaxurl;a.ajaxPost(s,t,function(e){if(1001===e.status.code){var s=$(".mail_show span").text(),t=$(".mail_check_box .btn_check").attr("href"),a='<div class="mail_suc_tip"><span class="right_box mb15">发送成功！</span><p class="mb40">请前往<span class="red_txt">'+s+'</span>邮箱进行查收。</p><p><a href="'+t+'" target="_blank" class="btn_check">去邮箱验证</a></p></div>',n={title:"温馨提示",lightBoxId:"mailSuccessTip",contentHtml:a,scroll:!0},i=new MGLightBox(n);i.init(),$("#mailSuccessTip").on("click",".btn_check",function(){i.close()})}else alert(e.result||e.status.msg)})}).on("click",".js_getcheck",function(){var s=$(this),t={mobile:$('input[name="register_account"]').val()},n=s.data("ajaxurl");return s.hasClass("downing")?!1:$(".imgcheck_box:visible").length&&!MOGU.imgCodeCheck()?(alert("请先点击验证码"),!1):($(".imgcheck_box:visible").length&&(a.spliceCode(),t={mobile:$('input[name="register_account"]').val(),check:$("#imgcheckvalue").val()}),s.addClass("downing").html("正在发送…"),void a.ajaxPost(t,n,function(t){1001===t.status.code?(s.html("重新发送(60)"),a.countDownStart(s,60)):1002==t.status.code?(s.removeClass("downing").html("重新发送"),a.showError($('input[name="code"]'),t.result)):1003==t.status.code?(s.removeClass("downing").html("获取验证码"),a.showError($('input[name="register_account"]'),'该手机已注册，可直接 <a href="/login" style="color:#73AC1C;">登录</a>')):1005==t.status.code?(s.removeClass("downing").html("重新发送"),e.find(".imgcheck_box").removeClass("hidden"),$("#imgcheck_code_change").trigger("click"),a.showError($(".imgcheck_code_main"),t.result)):(s.removeClass("downing").html("重新发送"),alert(t.status.msg))}))}).on("click",".imgcheck_image_div, #imgcheck_code_change",function(){$(".imgcheck_code_main").nextAll(".tips").remove()})}function s(e){var s=parseInt(e.text()),t=setInterval(function(){s>1?(s--,e.text(s)):(clearInterval(t),window.location.href=e.data("url"))},1e3)}var t='<div class="level clearfix" style="display:none"><div class="l01 li"><span class="ls">弱</span></div><div class="l02 li"><span class="ls">中</span></div><div class="l03 li"><span class="ls">强</span></div></div>',a={ajaxPost:function(e,s,t){$.ajax({url:s,type:"POST",dataType:"json",data:e,success:function(e){t(e)}})},submitCallback:function(e){var s=$(".js_postcurrentform");if(s.html(s.attr("data-text")),1001===e.status.code)location.reload();else if($(".imgcheck_code_img_div:visible").length&&$("#imgcheck_code_change").trigger("click"),1002===e.status.code)if(e.result.account){var t;t="phone_error"==e.result.account?'该手机已注册，可直接 <a href="/login" style="color:#73AC1C;">登录</a>':e.result.account,a.showError($('input[name="register_account"]'),t)}else e.result.regcode&&a.showError($('input[name="code"]'),e.result.regcode);else 1003===e.status.code?e.result.uname?a.showError($('input[name="register_ulike"]'),e.result.uname.msg):e.result.pass?a.showError($('input[name="register_password"]'),e.result.pass.msg):e.result.rstpass?a.showError($('input[name="register_respassword"]'),e.result.rstpass.msg):e.result.captcha&&a.showError($(".imgcheck_code_main"),e.result.captcha.msg):alert(e.status.msg)},submitNowForm:function(e,s){var t=this;if(!s.find(".loading").length){var a=function(){s.attr("data-text",s.text()).html('<img class="loading" src="http://s6.mogujie.cn/pic/140402/o613k_kqzgmls2ozbegwkugfjeg5sckzsew_142x36.png" />')};if($("#agreement").length){if(!t.isAgreementOn())return alert("请先同意用户协议"),s.removeClass("disable"),!1;if($(".imgcheck_box:visible").length&&!MOGU.imgCodeCheck())return alert("请先将图片验证码转到正确方向"),s.removeClass("disable"),!1;if($(".imgcheck_box:visible").length&&t.spliceCode(),$(".phonecheck_box:visible").length&&""==$(".phonecheck_box input").val())return alert("请先输入手机验证码"),s.removeClass("disable"),!1}if(e.find(".js_text_input:visible").blur(),!$(".error:visible").length){a();var n=e.find(".formelem");t.ajaxPost(n.serialize(),n.attr("data-action"),t.submitCallback)}}},showDefult:function(e,s){e.siblings(".tips").length&&e.siblings(".tips").remove(),s&&e.parents(".inputbox").append('<span class="tips display_u">'+s+"</span>")},showError:function(e,s){s&&(e.siblings(".tips").length&&e.siblings(".tips").remove(),e.parents(".inputbox").append('<span class="tips error display_u">'+s+"</span>"))},showMsg:function(e,s){s&&(e.siblings(".tips").length&&e.siblings(".tips").remove(),e.parents(".inputbox").append('<span class="tips display_u" style="color: #ff5783;">'+s+"</span>"))},showSuccess:function(e){e.siblings(".tips").length&&e.siblings(".tips").remove(),e.parents(".inputbox").append('<span class="tips success display_u"></span>')},checkInput:function(e){var s=this,t=e.val(),a=e.attr("data-type"),n=function(t){t?s.showSuccess(e):s.showError(e,e.data("errormsg"))};s.chekIsPass(e,a,t,n)},getLength:function(e){for(var s=e.length,t=0,a=0;s>a;a++)e.charCodeAt(a)<27||e.charCodeAt(a)>126?t+=2:t++;return t},showCheckBox:function(e,s){var t=$(".formbox"),a=t.find(".imgcheck_box"),n=t.find(".phonecheck_box"),i=t.find("input[name=register_type]");"mailtrue"==e&&s?(a.removeClass("hidden"),n.addClass("hidden"),i.val("email")):"phonetrue"==e&&s?(n.removeClass("hidden"),a.addClass("hidden"),i.val("mobile")):"phone_img_show"==e&&s?(n.removeClass("hidden"),a.removeClass("hidden"),i.val("mobile")):(n.addClass("hidden"),a.addClass("hidden"),i.val(""))},chekIsPass:function(e,s,t,a){var n=this,i=!1;switch(s){case"useraccount":t&&t.length>0&&/^1[2|3|4|6|5|7|8][0-9]\d{8,8}$/.test(t)?i="phonetrue":t&&t.length>0&&/^([a-zA-Z0-9_-|\.])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(t)?i="mailtrue":a(!1),i&&n.isAjaxCheck(e,{register_account:t},function(s){if(1001===s.status.code)n.showSuccess(e),n.showCheckBox(i,!0);else if(1002===s.status.code){var t;t="phone_error"==s.result?'该手机已注册，可直接 <a href="/login" style="color:#73AC1C;">登录</a>':"format_error"==s.result?e.data("errormsg"):s.result,n.showError(e,t),n.showCheckBox(i,!1)}else 1005===s.status.code?(n.showSuccess(e),n.showCheckBox("phone_img_show",!0)):(n.showError(e,s.status.msg),n.showCheckBox(i,!1))});break;case"username":t&&n.getLength(t)>=5&&n.getLength(t)<=20?this.isAjaxCheck(e,{ulike:t},function(s){if(1001===s.status.code){var a=t.match(/1[3|5|7|8|][0-9]{9}/g);a&&a.length>0?n.showMsg(e,"为保证账号安全，请勿使用手机号码作为昵称"):n.showSuccess(e)}else n.showError(e,s.status.msg)}):a(!1);break;case"codenum":a(t&&t.length>0?!0:!1);break;case"password":a(t&&t.length>=6&&t.length<=20?!0:!1);break;case"repass":a(t&&t.length>0&&$("#"+e.attr("data-rebox")).val()==t?!0:!1)}},getPasswordStrong:function(e,s){if(!s.length)return void $(".level").remove();var a=-3;$([/.{6,}/,/[0-9]+/,/[a-z]+/,/[A-Z]+/,/[^0-9a-zA-Z]+/]).each(function(e,t){t.test(s)&&a++}),$(".level").length&&$(".level").remove(),0>a&&(a=0),e.parents(".inputbox").after(t),$(".level .ls").removeClass("current"),$(".level .ls").eq(a).addClass("current"),$(".level").fadeIn("500")},isAgreementOn:function(){return $("#agreement").attr("checked")?!0:!1},isAjaxCheck:function(e,s,t){var a=e.attr("data-ajaxurl");this.ajaxPost(s,a,t)},countDownStart:function(e,s){var t=this;t.timer="",e.siblings(".tips").remove();var a=function(e,s){t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){0>=s?e.html("重新发送").removeClass("downing"):(s--,e.html("重新发送("+s+")"),a(e,s))},"1000")};a(e,s)},spliceCode:function(){var e=[];$(".img_code_spin").each(function(s,t){var a=$(t).val();e.push(a)}),$("#imgcheckvalue").val(e.join(","))}};!function(){var t=$(".registerbox");e(t),t.find(".count_down_num").length&&s(t.find(".count_down_num"))}()});