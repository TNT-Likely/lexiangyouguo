$(function(){var t=t||{};!function(t,i,e,n){function s(t,i){this.stamp=+new Date+Math.random()>>>0,this.imgArr=[],this.$els=t,this.callback=i&&"function"==typeof i?i:null,this._filterItems()}var a={cls:"img-lazyload",dsrc:"d-src"};s.prototype._getTargetY=function(t){var i=t.offsetTop;if(t.offsetParent){t=t.offsetParent;do i+=t.offsetTop,t=t.offsetParent;while(t)}return i},s.prototype._filterImgs=function(){var t,e,n=this.callback,s=n?!0:!1;e=a.dsrc,t=this.$els.filter("img").filter("["+e+"]"),t.each(i.proxy(function(t,a){var r=i(a),l=r.attr(e);l&&(r.css("opacity",0),a.onload=function(){i(this).animate({opacity:1},300,function(){s&&n(r)})},this.imgArr.push(a),r.targetY=this._getTargetY(r[0]))},this))},s.prototype._filterItems=function(){this._filterImgs()},s.prototype._checkBounding=function(t){var i,s,a;return i=e.body.scrollTop||e.documentElement.scrollTop||n.pageYOffset||0,s=n.innerHeight||e.documentElement.clientHeight,a=t.targetY?t.targetY:this._getTargetY(t[0]),Math.abs(a-i)<s?!0:!1},t.lazyload=function(t,e){var r=new s(i(t),e);i(n).on("scroll.lz"+r.stamp+" resize.lz"+r.stamp,function(){var t,e,s;for(r.imgArr.length<=0&&(i(n).off("scroll.lz"+r.stamp),i(n).off("resize.lz"+r.stamp)),t=0,e=r.imgArr.length;e>t;)if(r.imgArr[t]){s=r.imgArr[t];var l=i(s);r._checkBounding(l)?(l.attr("src",l.attr(a.dsrc)).attr(a.dsrc,""),r.imgArr.splice(t,1),e--):t++}}).trigger("scroll.lz"+r.stamp)},i(e).ready(function(){t.lazyload("."+a.cls)})}(t,jQuery,document,window),function(t,i,e){function n(i,e){this.element=t(i),this.settings=t.extend({},a,e),this._defaults=a,this._name=s,this.init(this.element,this.settings),this.setWidth(),this.addEvents(this.settings),this.settings.auto&&this.autoPlay()}var s="miniSlider",a={list:".buyer_type_list",item:"li",button:".btn",prev:".prev",next:".next",size1200:7,size960:6,trigger:".ms_tips .ms_item",auto:!1};t.extend(n.prototype,{init:function(i,n){this.wrap=t(i),this.list=t(i).find(n.list),this.step=this.list.find(n.item).outerWidth(!0),this.screenNum=t(e).find(".media_screen_960").length?n.size960:n.size1200,this.listLen=this.list.find(n.item).length,this.rightMax=this.listLen-this.screenNum,this.leftMin=0,this.mvIndex=0,this.lfBtn=this.wrap.find(n.prev),this.lrBtn=this.wrap.find(n.next),this.inMoving=!1,this.lfBtn.css({opacity:"0.2"}).addClass("disabled"),this.rightMax<=this.leftMin},addEvents:function(i){var e=this;e.wrap.on("click",i.button,function(){var i=t(this);if(e.inMoving)return!1;if(i.hasClass("disabled"))return!1;if(i.hasClass("left_btn")){if(e.lrBtn.hasClass("disabled")&&e.lrBtn.removeClass("disabled").css({opacity:"1"}),e.listLen>e.screenNum&&e.mvIndex>0&&e.mvIndex<e.screenNum)e.mvIndex=0;else{if(0===e.mvIndex)return i.css({opacity:"0.2"}).addClass("disabled"),!1;e.mvIndex=e.mvIndex-e.screenNum}e.move(e.mvIndex)}else if(i.hasClass("right_btn")){if(e.lfBtn.hasClass("disabled")&&e.lfBtn.removeClass("disabled").css({opacity:"1"}),e.mvIndex+e.listLen%e.screenNum>=e.rightMax&&e.mvIndex+e.screenNum<e.listLen)e.mvIndex=e.mvIndex+e.listLen%e.screenNum;else{if(e.mvIndex+e.screenNum>=e.listLen)return i.css({opacity:"0.2"}).addClass("disabled"),!1;e.mvIndex=e.mvIndex+e.screenNum}e.move(e.mvIndex)}}),e.wrap.on("clcik",i.trigger,function(){{var i=t(this);i.index()}return e.inMoving?!1:(i.parent().find(".on").removeClass(".on"),i.addClass("on"),e.move(e.mvIndex),void 0)})},setWidth:function(){var t=this,i=t.listLen*t.step;this.list.css("width",i)},move:function(t){var i=this;i.inMoving=!0,i.list.animate({left:-t*i.step},500,function(){i.changeBtnStatus(t)})},changeBtnStatus:function(t){var i=this;i.inMoving=!1,t+i.screenNum>=i.listLen&&i.lrBtn.css({opacity:"0.2"}).addClass("disabled"),0===t&&i.lfBtn.css({opacity:"0.2"}).addClass("disabled")},autoPlay:function(){var t=this;setInterval(function(){t.mvIndex=t.mvIndex+t.listLen%t.screenNum>=t.rightMax&&t.mvIndex+t.screenNum<t.listLen?t.mvIndex+t.listLen%t.screenNum:t.mvIndex+t.screenNum>=t.listLen?0:t.mvIndex+t.screenNum,t.move(t.mvIndex)},3e3)}}),t.fn[s]=function(i){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new n(this,i))}),this}}(jQuery,window,document),function(){$(".buyer_type_inner").miniSlider({button:".btn",prev:".left_btn",next:".right_btn",size1200:7,size960:6})}(),function(){var t={wrap:$(".buyer_top_banner"),init:function(){this.list=this.wrap.find(".banner_list"),this.btnList=this.wrap.find(".banner_btn"),this.step=this.list.find(".ms_item").outerWidth(!0),this.listLen=this.list.find(".ms_item").length,this.item=this.list.find(".ms_item"),this.innerItem=this.wrap.find(".banner_list_inner"),this.step=this.item.eq(0).outerWidth(!0),this.listLen=this.item.length,this.rightMax=this.listLen-1,this.leftMin=0,this.mvIndex=0,this.inMoving=!1,this.urlEl=this.wrap.find(".mask_link"),this.rightMax<=this.leftMin||(this.addEvent(),this.updateUrl(this.item.eq(0).data("url")))},addEvent:function(){var t=this;t.wrap.on("hover",".banner_btn a",function(i){i.preventDefault();var e=$(this);return t.inMoving||e.hasClass("disabled")?!1:(e.parents(".banner_btn").find(".on").removeClass("on").end().end().addClass("on"),t.mvIndex=e.parent().index(),t.move(t.mvIndex),void 0)}),t.wrap.on("click",".mask_link",function(){var t=$(this).attr("href")}),t.wrap.on("mouseenter",".mask_link",function(t){t.preventDefault();var i=$(this).attr("href");("http://www.mogujie.com/chic/index"==i||""==i)&&$(this).attr("style","cursor: default;")}),t.wrap.on("mouseleave",".mask_link",function(t){t.preventDefault();var i=$(this).attr("href");("http://www.mogujie.com/chic/index"==i||""==i)&&$(this).attr("style","")})},updateUrl:function(t){this.urlEl.attr("href",t)},move:function(t){{var i=this;i.list.find(".ms_item a").eq(t).data("img")}i.updateUrl(i.list.find("li").eq(t).data("url"));var e=i.list.find("li").eq(t);e.siblings().css({"z-index":1}),e.css({"z-index":2}),e.height(),e.fadeIn(500,function(){i.inMoving=!0,e.siblings().css({"z-index":1,display:"none"}),e.siblings().removeClass("show"),e.addClass("show"),e.css("display","block"),i.inMoving=!1})}};t.init()}(),function(){var t=function(){var t=navigator.appVersion.split("MSIE"),i=parseFloat(t[1]);if(i>=5.5&&document.body.filters)for(var e=0;e<document.images.length;e++){var n=document.images[e],s=n.src.toUpperCase();if("PNG"==s.substring(s.length-3,s.length)){var a=n.id?"id='"+n.id+"' ":"",r=n.className?"class='"+n.className+"' ":"",l=n.title?"title='"+n.title+"' ":"title='"+n.alt+"' ",o="display:inline-block;"+n.style.cssText;"left"==n.align&&(o="float:left;"+o),"right"==n.align&&(o="float:right;"+o),n.parentElement.href&&(o="cursor:hand;"+o);var d="<span "+a+r+l+' style="width:'+n.width+"px; height:"+n.height+"px;"+o+"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+n.src+"', sizingMethod='scale');\"></span>";n.outerHTML=d,e-=1}}};t()}(),function(){var i={container:$("#j_suit_list"),ajaxUrl:"/chic/getdetail",wallindex:0,isend:!1,page:parseInt($("#page").val()),fId:$("#fId").val(),slice:1,pageSize:20,sliceSize:20},e=function(){return{fId:i.fId,page:i.page,slice:i.slice,pageSize:i.pageSize,sliceSize:i.sliceSize}},n=function(){var t=$("#iw_loading");if(0===t.length&&0!==i.container.children().length){var e=['<div class="clr" style="text-align:center;" id="iw_loading"><img src="/img/wall-loading.gif"></div>'].join("");$("#body").append(e)}else t.show()},s=function(){$("#iw_loading").remove()},a=function(){var a=e();$.post(i.ajaxUrl,a,function(e){1001===e.status.code?(n(),$(".section_suit_wrap").length>0&&$(".section_suit_wrap").remove(),$(".pagination").length>0&&$(".pagination").remove(),i.container.append(e.result.view),setTimeout(function(){t.lazyload(".img-lazyload")},1),s()):$.alert("鍑洪敊浜嗭紒")},"json")},r=function(){$(document).on("click",".pagination a",function(t){return t.preventDefault(),$(this).hasClass("c")?!1:(i.page=parseInt($(this).attr("href").substring(17)),i.slice=1,a(),$("html,body").animate({scrollTop:700},1),void 0)}),a()};r()}(),function(){var i={login:function(i){if("function"==typeof i)if(MOGUPROFILE.userid)i();else{t.user_handsome_login_init();var e={callback:i};t.user_handsome_login(!1,e)}}},e=function(t,e){i.login(function(){$.post("/chic/favItem",{tradeItemId:t},function(t){if(1001!=t.status.code)return void $.alert(t.status.msg);e.addClass("like-hover").html("宸叉敹钘�("+t.result.count+")");var i=e.parent().next().find(".girl_list .item");e.hasClass("like-origin")?i.eq(1).removeClass("item-hide").end().eq(-2).addClass("last"):i.eq(0).removeClass("item-hide").end().eq(-2).addClass("item-hide").end().eq(-3).addClass("last")},"json")})},n=function(t,e){i.login(function(){$.post("/collect/delfav\n",{tradeitemid:t},function(t){return 1001!=t.status.code?void $.alert(t.status.msg):(e.removeClass("like-hover").html('<span class="icon-collection"></span>鏀惰棌('+t.result.data.cfav+")"),void(e.hasClass("like-origin")?e.parent().next().find(".girl_list .item").eq(1).addClass("item-hide").end().eq(-2).removeClass("last"):e.parent().next().find(".girl_list .item").eq(0).addClass("item-hide").end().eq(-2).removeClass("item-hide").end().eq(-3).removeClass("last")))},"json")})};$(document).on("click",".some_actions .like",function(t){t.preventDefault();var i=$(this),s=i.data("id");i.hasClass("like-hover")?n(s,i):e(s,i)})}()});(function(a){MOGU.imgCodeCheck=function(){var t=false;var i=a(".img_code_spin");if(i.length==0){t=true;return t}for(var c=0;c<i.length;c++){var e=a(i[c]);if(e.val()!=0){t=true;break}}return t};MOGU.imgCaptchaInit=function(){var t=a(".imgcheck_image_div");var i=a("#imgcheck_code_change");var c=function(a,t){var i=-75*((t+1)%4);var c=a[0].style.backgroundPosition.split(" ");a[0].style.backgroundPosition=c[0]+" "+i+"px"};t.click(function(){var t=a(this).attr("f");var i=a("#img_code_spin_"+t);var e=parseInt(i.val());c(a(this),e);i.val(e+1)});i.click(function(){MOGU.imgCaptchaRecaptcha()})};MOGU.imgCaptchaRecaptcha=function(t){var i=function(t){var i=a(".imgcheck_image_div");var c=i.length;for(var e=0;e<c;e++){var r=i[e];var n=r.getAttribute("f");var o=a("#img_code_spin_"+n);o.val(0);var u=a(r);u.css("background-image","url(/captchaimg/"+t+")");u.css({"background-position":-75*e+"px 0"})}};if(t===undefined){a.ajax({url:"/reimgcaptcha",type:"POST",timeout:6e4,data:{},dataType:"json",cache:false,success:function(a){var t=a.status.code;var c=a.status.msg;if(t==1001){var e=a.result.data.captchaId;i(e)}},error:function(a,t,i){if("timeout"==t){alert(MGLANG.msgTimeout)}}})}else{setTimeout(function(){i(t)},1)}};MOGU.imgCaptchaInit()})(jQuery);